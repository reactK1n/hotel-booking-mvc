@using hotel_booking_model.commons
@model PaginationResponse<IEnumerable<HotelBasicView>>
@{
    ViewData["Title"] = "Hotels";
}
<link rel="stylesheet" href="~/css/hotel.css" />
<link rel="stylesheet" href="~/lib/font-awesome/css/all.min.css" />
<div class="hotelList">
    <div class="w-100">
        <div class="row p-3" style="background-color: #F6FCFF; border-bottom: 1px solid #aaa;">
            <div class="col">
                <h2 style="color: #173752;">Listing</h2>
            </div>
        </div>        
    </div>
    @foreach (var hotel in @Model.PageItems)
    {
        var address = hotel.Address + ", " + hotel.City + ", " + hotel.State;
        <a class="hotel-card d-flex row" asp-action="HotelDetails" asp-controller="Admin" asp-route-hotelId=@hotel.Id>
            <div class="col-sm-12 col-md-3 hotel-img">
                <img class="img img-fluid rounded-start" src=@hotel.FeaturedImage />
            </div>
            <div class="hotel-details col-sm-12 col-md-7">
                <div class="details">
                    <h2>@hotel.Name</h2>
                    <p>@address</p>
                    <p>@hotel.Description</p>
                    <span class="stars">
                        @for (int i = 1; i <= 5; i++)
                        {
                            if (i <= hotel.Rating)
                            {
                                <i class="fa fa-star"></i>
                            }
                            else if (i > hotel.Rating && (hotel.Rating % 1) > 0 && i == ((int)hotel.Rating + 1))
                            {
                                <i class="fas fa-star-half-alt star-color mr-1"></i>
                            }
                            else
                            {
                                <i class="far fa-star star-color mr-1"></i>
                            }
                        }
                    </span>
                </div>
            </div>
            <div class="hotel-rating pr-0 col-sm-12 col-md-2">
                <div class="h-rating m-0 p-0">
                    <span class="review">
                        <p class="comment m-0">@hotel.Comment</p>
                        <p class="review-count m-0"><em>@hotel.NumberOfReviews reviews</em></p>
                    </span>
                    <span class="rating m-0">
                        <span>@hotel.Rating</span>
                    </span>
                </div>
            </div>
        </a>
    }

    <div class="col-10 mx-auto mb-5 d-flex justify-content-center">
        <nav aria-label="Pagination">
            <ul class="pagination justify-content-center">
                @for (int i = 1; i <= Model.NumberOfPages; i++)
                {
                    if (i == Model.CurrentPage)
                    {
                        <li class="page-item active" aria-current="page">
                            <span class="page-link" asp-route-pageNumber=@i style="background-color: #2067A1; border-color: #2067A1; ">@i</span>
                        </li>
                    }
                    else
                    {
                        <li class="page-item"><a class="page-link"  asp-route-pageNumber=@i style="color:black" a>@i</a></li>
                    }
                }
            </ul>
        </nav>
    </div>
</div>

